<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحة سجل الزوار / صفحة أضف للسجل</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/mobile-additions.css">
    <link rel="stylesheet" href="../css/size-fixes.css">
    <link rel="stylesheet" href="../css/visitor-log/add-entry-form-new.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="form-container">
        <div class="visitor-form">
            <h1 class="form-title">سجل الزوار</h1>
            <p class="form-subtitle">نرحب بتعليقاتك واقتراحاتك في سجل زوارنا</p>
            
            <form id="visitorForm">
                <div class="form-group">
                    <label for="name" class="form-label">الاسم <span class="required">*</span></label>
                    <input type="text" id="name" class="form-control" placeholder="أدخل الاسم الكامل">
                    <span class="input-icon"><i class="fas fa-user"></i></span>
                </div>
                
                <div class="form-group">
                    <label for="email" class="form-label">البريد الإلكتروني <span class="required">*</span></label>
                    <input type="email" id="email" class="form-control" placeholder="example@domain.com">
                    <span class="input-icon"><i class="fas fa-envelope"></i></span>
                </div>
                
                <div class="form-group">
                    <label for="message" class="form-label">الرسالة <span class="required">*</span></label>
                    <textarea id="message" class="form-control form-textarea" placeholder="اكتب رسالتك هنا..."></textarea>
                    <span class="input-icon"><i class="fas fa-comment-alt"></i></span>
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-paper-plane"></i>
                    <span>أضف التعليق</span>
                </button>
            </form>
            
            <div class="form-footer">
                جميع الحقوق محفوظة
            </div>
        </div>
    </div>
    
    <script src="../js/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            // Form validation
            $('#visitorForm').on('submit', function(e) {
                e.preventDefault();
                
                let isValid = true;
                
                // Name validation
                const name = $('#name').val().trim();
                if (name === '') {
                    $('#name').css('border-color', '#e74c3c');
                    isValid = false;
                } else {
                    $('#name').css('border-color', '#e0e0e0');
                }
                
                // Email validation
                const email = $('#email').val().trim();
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (email === '' || !emailRegex.test(email)) {
                    $('#email').css('border-color', '#e74c3c');
                    isValid = false;
                } else {
                    $('#email').css('border-color', '#e0e0e0');
                }
                
                // Message validation
                const message = $('#message').val().trim();
                if (message === '') {
                    $('#message').css('border-color', '#e74c3c');
                    isValid = false;
                } else {
                    $('#message').css('border-color', '#e0e0e0');
                }
                
                // Submit form if valid
                if (isValid) {
                    // Form submission logic
                    console.log('Form submitted:', {
                        name: name,
                        email: email,
                        message: message
                    });
                    
                    // Success message
                    alert('تم إرسال تعليقك بنجاح!');
                    
                    // Clear form
                    $('#visitorForm')[0].reset();
                    
                    // Redirect back to visitor log
                    setTimeout(function() {
                        window.location.href = 'visitor-messages.html';
                    }, 1000);
                }
            });
            
            // Clear validation errors on input
            $('.form-control').on('input', function() {
                $(this).css('border-color', '#e0e0e0');
            });
        });
    </script>
</body>
</html>
