<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحة عرض الشركات</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/mobile-additions.css">
    <link rel="stylesheet" href="../css/size-fixes.css">
    <link rel="stylesheet" href="../css/companies/companies-view.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="header-left">
                    <div class="search-box">
                        <input type="text" placeholder="بحث...">
                        <i class="fas fa-search"></i>
                    </div>
                    <button class="close-btn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="header-right">
                    <div class="brand">
                        <h1>محاماة المملكة</h1>
                        <p>المجموعة القانونية الأولى</p>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="content-wrapper">
                <div class="page-header">
                    <h1 class="page-title">إدارة الشركات</h1>
                    <button type="button" class="add-btn">
                        <i class="fas fa-plus"></i>
                        إضافة شركة جديدة
                    </button>
                </div>

                <!-- Table -->
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th class="serial-column">الرقم التسلسلي</th>
                                <th class="name-column">اسم الشركة</th>
                                <th class="description-column">الوصف</th>
                                <th class="type-column">النوع</th>
                                <th class="actions-column">الإجراءات</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>١</td>
                                <td>الاسم الكامل</td>
                                <td>اسم المستخدم الكامل</td>
                                <td>نص</td>
                                <td class="actions">
                                    <button class="edit-btn"><i class="fas fa-edit"></i></button>
                                    <button class="delete-btn"><i class="fas fa-trash-alt"></i></button>
                                </td>
                            </tr>
                            <tr>
                                <td>٢</td>
                                <td>البريد الإلكتروني</td>
                                <td>عنوان البريد الإلكتروني للمستخدم</td>
                                <td>بريد إلكتروني</td>
                                <td class="actions">
                                    <button class="edit-btn"><i class="fas fa-edit"></i></button>
                                    <button class="delete-btn"><i class="fas fa-trash-alt"></i></button>
                                </td>
                            </tr>
                            <tr>
                                <td>٣</td>
                                <td>رقم الهاتف</td>
                                <td>رقم الهاتف للتواصل المحمول</td>
                                <td>هاتف</td>
                                <td class="actions">
                                    <button class="edit-btn"><i class="fas fa-edit"></i></button>
                                    <button class="delete-btn"><i class="fas fa-trash-alt"></i></button>
                                </td>
                            </tr>
                            <tr>
                                <td>٤</td>
                                <td>العنوان</td>
                                <td>عنوان السكن الكامل</td>
                                <td>نص طويل</td>
                                <td class="actions">
                                    <button class="edit-btn"><i class="fas fa-edit"></i></button>
                                    <button class="delete-btn"><i class="fas fa-trash-alt"></i></button>
                                </td>
                            </tr>
                            <tr>
                                <td>٥</td>
                                <td>تاريخ الميلاد</td>
                                <td>تاريخ ميلاد المستخدم</td>
                                <td>تاريخ</td>
                                <td class="actions">
                                    <button class="edit-btn"><i class="fas fa-edit"></i></button>
                                    <button class="delete-btn"><i class="fas fa-trash-alt"></i></button>
                                </td>
                            </tr>
                            <tr>
                                <td>٦</td>
                                <td>الجنس</td>
                                <td>جنس المستخدم</td>
                                <td>اختيار</td>
                                <td class="actions">
                                    <button class="edit-btn"><i class="fas fa-edit"></i></button>
                                    <button class="delete-btn"><i class="fas fa-trash-alt"></i></button>
                                </td>
                            </tr>
                            <tr>
                                <td>٧</td>
                                <td>الصورة الشخصية</td>
                                <td>صورة المستخدم الشخصية</td>
                                <td>ملف</td>
                                <td class="actions">
                                    <button class="edit-btn"><i class="fas fa-edit"></i></button>
                                    <button class="delete-btn"><i class="fas fa-trash-alt"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <div class="pagination">
                    <button class="pagination-btn prev">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <button class="pagination-btn active">١</button>
                    <button class="pagination-btn">٢</button>
                    <button class="pagination-btn">٣</button>
                    <button class="pagination-btn next">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-menu">
                <a href="#" class="sidebar-item">
                    <i class="fas fa-user"></i>
                    <span>المستخدمين</span>
                </a>
                <a href="#" class="sidebar-item active">
                    <i class="fas fa-building"></i>
                    <span>الشركات</span>
                </a>
                <a href="#" class="sidebar-item">
                    <i class="fas fa-cog"></i>
                    <span>الإعدادات</span>
                </a>
            </div>
        </div>
    </div>

    <script src="../js/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            // Add new field button click
            $('.add-btn').on('click', function() {
                // Redirect to add company page
                window.location.href = 'company-add-edit.html';
            });

            // Edit button click
            $('.edit-btn').on('click', function() {
                const row = $(this).closest('tr');
                const id = row.find('td:first-child').text();
                // Redirect to edit page with ID
                window.location.href = `company-add-edit.html?id=${id}`;
            });

            // Delete button click
            $('.delete-btn').on('click', function() {
                const row = $(this).closest('tr');
                const id = row.find('td:first-child').text();
                const name = row.find('td:nth-child(2)').text();
                
                if(confirm(`هل أنت متأكد من حذف الشركة "${name}"؟`)) {
                    // Here you would typically make an API call to delete
                    console.log(`Deleting company with ID: ${id}`);
                    
                    // For demo, just remove the row
                    row.fadeOut(300, function() {
                        $(this).remove();
                    });
                }
            });

            // Pagination functionality
            $('.pagination-btn').not('.prev, .next').on('click', function() {
                $('.pagination-btn').removeClass('active');
                $(this).addClass('active');
                // Here you would load the appropriate page data
            });

            $('.pagination-btn.prev').on('click', function() {
                const currentActive = $('.pagination-btn.active');
                const prevPage = currentActive.prev('.pagination-btn:not(.prev)');
                if (prevPage.length) {
                    currentActive.removeClass('active');
                    prevPage.addClass('active');
                    // Load previous page data
                }
            });

            $('.pagination-btn.next').on('click', function() {
                const currentActive = $('.pagination-btn.active');
                const nextPage = currentActive.next('.pagination-btn:not(.next)');
                if (nextPage.length) {
                    currentActive.removeClass('active');
                    nextPage.addClass('active');
                    // Load next page data
                }
            });

            // Search functionality
            $('.search-box input').on('keyup', function() {
                const searchTerm = $(this).val().toLowerCase();
                $('.data-table tbody tr').each(function() {
                    const rowText = $(this).text().toLowerCase();
                    if(rowText.includes(searchTerm)) {
                        $(this).show();
                    } else {
                        $(this).hide();
                    }
                });
            });
        });
    </script>
</body>
</html>
